var e=function(e){return(e=e||{}).circles?function(e){var t=[],n=[];return e.proto?function e(a){if("object"!=typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return f(a,e);if(a instanceof Map)return new Map(f(Array.from(a),e));if(a instanceof Set)return new Set(f(Array.from(a),e));var i={};for(var o in t.push(a),n.push(i),a){var s=a[o];if("object"!=typeof s||null===s)i[o]=s;else if(s instanceof Date)i[o]=new Date(s);else if(s instanceof Map)i[o]=new Map(f(Array.from(s),e));else if(s instanceof Set)i[o]=new Set(f(Array.from(s),e));else if(ArrayBuffer.isView(s))i[o]=r(s);else{var c=t.indexOf(s);i[o]=-1!==c?n[c]:e(s)}}return t.pop(),n.pop(),i}:function e(a){if("object"!=typeof a||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return f(a,e);if(a instanceof Map)return new Map(f(Array.from(a),e));if(a instanceof Set)return new Set(f(Array.from(a),e));var i={};for(var o in t.push(a),n.push(i),a)if(!1!==Object.hasOwnProperty.call(a,o)){var s=a[o];if("object"!=typeof s||null===s)i[o]=s;else if(s instanceof Date)i[o]=new Date(s);else if(s instanceof Map)i[o]=new Map(f(Array.from(s),e));else if(s instanceof Set)i[o]=new Set(f(Array.from(s),e));else if(ArrayBuffer.isView(s))i[o]=r(s);else{var c=t.indexOf(s);i[o]=-1!==c?n[c]:e(s)}}return t.pop(),n.pop(),i};function f(e,f){for(var a=Object.keys(e),i=new Array(a.length),o=0;o<a.length;o++){var s=a[o],c=e[s];if("object"!=typeof c||null===c)i[s]=c;else if(c instanceof Date)i[s]=new Date(c);else if(ArrayBuffer.isView(c))i[s]=r(c);else{var u=t.indexOf(c);i[s]=-1!==u?n[u]:f(c)}}return i}}(e):e.proto?function e(n){if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var f={};for(var a in n){var i=n[a];"object"!=typeof i||null===i?f[a]=i:i instanceof Date?f[a]=new Date(i):i instanceof Map?f[a]=new Map(t(Array.from(i),e)):i instanceof Set?f[a]=new Set(t(Array.from(i),e)):ArrayBuffer.isView(i)?f[a]=r(i):f[a]=e(i)}return f}:n;function t(e,t){for(var n=Object.keys(e),f=new Array(n.length),a=0;a<n.length;a++){var i=n[a],o=e[i];"object"!=typeof o||null===o?f[i]=o:o instanceof Date?f[i]=new Date(o):ArrayBuffer.isView(o)?f[i]=r(o):f[i]=t(o)}return f}function n(e){if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return t(e,n);if(e instanceof Map)return new Map(t(Array.from(e),n));if(e instanceof Set)return new Set(t(Array.from(e),n));var f={};for(var a in e)if(!1!==Object.hasOwnProperty.call(e,a)){var i=e[a];"object"!=typeof i||null===i?f[a]=i:i instanceof Date?f[a]=new Date(i):i instanceof Map?f[a]=new Map(t(Array.from(i),n)):i instanceof Set?f[a]=new Set(t(Array.from(i),n)):ArrayBuffer.isView(i)?f[a]=r(i):f[a]=n(i)}return f}};function r(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}const t=e();var n;!function(e){e.ARRAYTYPE="[object Array]",e.OBJECTTYPE="[object Object]",e.FUNCTIONTYPE="[object Function]"}(n||(n={}));const f=n.ARRAYTYPE,a=n.OBJECTTYPE,i=n.FUNCTIONTYPE;function o(e,r){const t={};return r?(s(e,r),u(e,r,"",t),t):e}function s(e,r){if(e===r)return;const t=y(e),n=y(r);if(t==a&&n==a)for(const t in r){const n=e[t];void 0===n?e[t]=null:s(n,r[t])}else t==f&&n==f&&e.length>=r.length&&r.forEach(((r,t)=>{s(e[t],r)}))}function c(e,r,t){y(t)!=i&&(e[r]=t)}function u(e,r,t,n){if(e===r)return;const i=y(e),o=y(r);if(i==a)if(o!=a||Object.keys(e).length<Object.keys(r).length&&""!==t)c(n,t,e);else for(const i in e){const o=e[i],s=r[i],p=y(o),w=y(s);if(p!=f&&p!=a)o!==r[i]&&c(n,l(t,i),o);else if(p==f)w!=f||o.length<s.length?c(n,l(t,i),o):o.forEach(((e,r)=>{u(e,s[r],l(t,i)+"["+r+"]",n)}));else if(p==a)if(w!=a||Object.keys(o).length<Object.keys(s).length)c(n,l(t,i),o);else for(const e in o){const r=l(t,i)+(e.includes(".")?`["${e}"]`:`.${e}`);u(o[e],s[e],r,n)}}else i==f?o!=f||e.length<r.length?c(n,t,e):e.forEach(((e,f)=>{u(e,r[f],t+"["+f+"]",n)})):c(n,t,e)}function l(e,r){return r.includes(".")?e+`["${r}"]`:(""==e?"":e+".")+r}function y(e){return Object.prototype.toString.call(e)}function p(e,r){const n=o(e.data,e._westorePrevData);e.setData(n,r),e._westorePrevData=t(e.data)}var w={diffData:o,update:p,Store:class{constructor(){this.views={}}bind(e,r){this.data=r.data,this.views[e]=r}update(e){if(e)p(this.views[e]);else for(const e in this.views)p(this.views[e])}}};export{w as default};
//# sourceMappingURL=index.esm.min.js.map
